# 计网复习

## 基础知识

OSI七层：

- 应用

- 表示

- 会话

- 传输

- 网络

- 数据链路

- 物理

- 明确服务、协议、接口

- 支持无连接和面向连接通信

  

TCP/IP四层：

- 应用
- 传输
- 互联网
- 链路
- 仅支持无连接通信
- 聪明终端简单网络

时延（四部分）

- 传输
- 传播
- 处理
- 排队

清华大学计算机网络第五版

![image-20240102155641491](C:\Users\wxy43\AppData\Roaming\Typora\typora-user-images\image-20240102155641491.png)

## 物理层

四个特性：

- 机械
- 电气
- 功能
- 过程

传输方式：

- 并行
- 串行

- 单工
- 半双工
- 全双工

- 异步
- 同步

编码

- 曼切斯特
- 差分曼切斯特

传输介质

- 引导（有线）
  - A（白绿、绿、白橙、蓝、白蓝、橙、白棕、棕）
  - B（白橙、橙、白绿、蓝、白蓝、绿、白棕、棕）
- 非引导（无线）

复用

- 频分
- 时分
- 统计时分
- 波分
- 码分

![image-20240102160511629](C:\Users\wxy43\AppData\Roaming\Typora\typora-user-images\image-20240102160511629.png)

![image-20240102160524171](C:\Users\wxy43\AppData\Roaming\Typora\typora-user-images\image-20240102160524171.png)

## 数据链路层

功能

- 成帧
- 差错控制
- 流量控制

服务

- 无确认无连接
- 有确认无连接
- 有确认有连接

成帧

- 字节计数
- 带字节填充的定界符
- 带比特填充的定界符

差错检测

- 码字
- 码率
- 海明距离 （00000 00111距离3）
  - 检d错，海明距离d+1
  - 纠d错，海明距离2d+1

检错码

- 奇偶
  - 保证1的个数为奇/偶
- 校验和
  - 发送数据求和（进位再加回去）后取反得到校验和
  - 接收数据求和（进位再加回去）后再加校验和，非全1则错误
- CRC
  - 

![image-20240102173456198](C:\Users\wxy43\AppData\Roaming\Typora\typora-user-images\image-20240102173456198.png)

纠错码

- 海明码，1位纠错能力

多路访问

- ALOHA
  - 纯（想发就发
  - 分隙
    - 把时间分成时隙
    - 长度对应一帧的传输时间
    - 时隙起点发送
    - 时隙启动冲突
- 载波侦听多路访问（先听后发）
  - 非持续CSMA，忙则等随机时间再侦听
  - 1-持续式CSMA，忙则持续侦听，空闲则发送；冲突则等随机事件再侦听，p=1罢了
  - p-持续式CSMA，空闲则p概率发送，（1-p）概率延迟一个时间发送，忙则持续侦听

冲突窗口：2D

- CSMA/CD（1-持续）
  - 先听后发，边发边听，冲突停止，延迟后发
  - 空闲则发送，忙则侦听，空闲再发送，冲突则等随机时间再看时候空闲

受控访问

- 令牌（发送权限）
- 位图协议
- 二进制倒计数
- 有限竞争
- 自适应树搜索

冲突域广播域

交换机和网桥能分割冲突域

MAC地址表构建，学习。每个表项=MAC|端口

入境口等于出境口则丢弃

交换方式：冲带宽角度

- 对称交换
- 非对称交换

交换模式：

- 存储转发，接受整个帧，执行CRC校验，延迟大，不转发出错帧，支持非对称
- 直通交换，边入边出
- 无碎片交换，接收到前64则交换，前两者的折中

生成树协议：

- 环的广播风暴
- 重复帧
- MAC地址表不稳定

生成树

- 选根桥
- 非根桥选出根端口（路径开销小）
- 每个网段确定指定端口

vlan

- access 单个vlan
- trunk 多个vlan

## 网络层

