### 分析

##### 题目

​		主机甲与主机乙之间已建立一个TCP连接，双方持续有数据传输，且数据无差错与丢失。若甲收到一个来自乙的TCP段，该段的序号为1913、确认序号为2046、有效载荷为100B，则甲立即发送给乙的TCP段的序号和确认序号分别是（）

A、2046、2012
B、2046、2013
C、2047、2012
D、2047、2013

##### 解析

选**B**

乙的TCP段中的确认序号就是甲的TCP段中的序号（即乙想要从甲收到的TCP段的第一位）
因为乙的TCP段有效载荷为100B，因此乙向甲发送了序号为1913-2012的数据，因此甲下一次想收到的段的第一位是2013，因此甲向乙发送的TCP段的确认序号为2013

![在这里插入图片描述](https://img-blog.csdnimg.cn/21ff27eb65274de4a8855049c0045030.png)

##### 参考

[计算机网络——传输层の选择题整理_计算机网络运输层相关选择题-CSDN博客](https://blog.csdn.net/qq_45741986/article/details/126661125)

### 设计

##### 题目

​		一个基于重传的可靠传输协议通常包含以下要素： 差错编码， 确认， 重传， 定时器， 分组序号。 请解释为什么需要这些要素。  

##### 解答

1. **差错编码：**
   - **目的：** 通过在发送端添加冗余信息，以便在接收端检测和纠正数据包中的错误。
   - **作用：** 提高通信的可靠性，减少由于信道噪声或其他干扰引起的数据包损坏的可能性。
2. **确认（Acknowledgment）：**
   - **目的：** 接收端向发送端发送确认消息，告知发送端已成功接收到数据包。
   - **作用：** 确保数据包已经正确地传输到接收端，如果发送端没有收到确认，就会触发重传机制。
3. **重传（Retransmission）：**
   - **目的：** 当发送端未收到接收端的确认消息时，触发重新发送相同的数据包。
   - **作用：** 确保数据的可靠传输，防止由于丢失或损坏导致的数据包丢失。
4. **定时器（Timer）：**
   - **目的：** 为每个发送的数据包设置一个定时器，在规定的时间内等待接收端的确认。
   - **作用：** 防止在长时间内未收到确认时发生死锁或持续等待，定时器超时后，触发重传机制。
5. **分组序号（Sequence Numbering）：**
   - **目的：** 为发送的每个数据包分配一个唯一的序号。
   - **作用：** 用于识别和排序数据包，确保它们按正确的顺序被接收。同时，分组序号还有助于检测是否有数据包丢失或乱序。

##### 标准

每个20%分值

##### 参考

https://icourse.club/uploads/files/4653deb25539e26cc4365eff27a9b342d8cdbe4d.pdf

### 计算

##### 题目

如下图所示为一个 TCP 主机中的拥塞窗口的变化过程，这里最大数据段长度为 1024 字节，请回答如下问题：
（1）该 TCP 协议的初始阀值是多少？为什么？
（2）本次传输是否有发生超时？如果有是在哪一次传输超时？
（3）在 14 次传输的时候阀值为多少？
（4）在本例中，采用了什么拥塞控制算法？
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200626140635526.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70)

##### 解答

（1）该 TCP 协议的初始阀值为 16KB。可以看出来在拥塞窗口到达 16KB 之前指数增长，之后就呈线性增长了，说明初始阀值是 16KB。线性增长时拥塞窗口大小每次增加 1KB，同时说明最大数据段长度为 1KB。
（2）可以看到拥塞窗口在第 13 次传输后变为 1KB，说明这次发送发生超时。
（3）因为可以看到在之后的传输中，拥塞窗口到达 12KB 之后呈线性增长。说明在 14 次传输的时候拥塞窗口变为了 12KB。
（4）因为可以看到在发送失败后拥塞窗口马上变为了 1KB，而且阀值也变为了之前的一半。在拥塞窗口未达到阈值且发送成功时，拥塞窗口将加倍，由此看出采用的是慢启动算法。

##### 标准

每一问25%分值

##### 参考

[计算机网络题库——第5章 传输层_在一个tcp连接中,mss为1kb,当拥塞窗口为34kb时发生了超时事件。如果在接下来的4-CSDN博客](https://blog.csdn.net/wodegeCSDN/article/details/106969283)